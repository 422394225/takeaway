<#include "../base/main/_dashboard.html"/>
<#assign pageMeta>
</#assign>
<#assign pageCss>
</#assign>
<#assign pageJavascript>
<script>
	function weixinApi(api){
		layer.load(1, {shade: [0.3,'#000']});
		Kit.post("${base}/api/"+api,{},function(msg){
			layer.closeAll('loading');
			layer.alert(msg);
		},
		function(msg){
			layer.closeAll('loading');
			layer.alert(msg,{icon:5});
		});
	}
	function rebootConfirm(){
		layer.load(1, {shade: [0.3,'#000']});
		Kit.post("${base}/tools/reboot",{},function(msg){
			layer.closeAll('loading');
			layer.alert(msg);
		},
		function(msg){
			layer.closeAll('loading');
			layer.alert(msg,{icon:5});
		});
	}
	function sendMess(){
		layer.load(1, {shade: [0.3,'#000']});
		Kit.post("${base}/tools/sendMess",{},function(msg){
			layer.closeAll('loading');
			layer.alert(msg);
		},
		function(msg){
			layer.closeAll('loading');
			layer.alert(msg,{icon:5});
		});
	}
	function payToShop(){
		layer.load(1, {shade: [0.3,'#000']});
		Kit.post("${base}/tools/payToShop",{},function(msg){
			layer.closeAll('loading');
			layer.alert(msg);
		},
		function(msg){
			layer.closeAll('loading');
			layer.alert(msg,{icon:5});
		});
	}	
	function templeTest(){
		layer.load(1, {shade: [0.3,'#000']});
		Kit.post("${base}/tools/templeTest",{},function(msg){
			layer.closeAll('loading');
			layer.alert(msg);
		},
		function(msg){
			layer.closeAll('loading');
			layer.alert(msg,{icon:5});
		});
	}
	function reboot(){
	    $('#rebootModel').modal({
	        keyboard: true
	    })
	}
	function goeasyTest(){
		layer.load(1, {shade: [0.3,'#000']});
		Kit.post("${base}/tools/goeasyTest",{},function(msg){
			layer.closeAll('loading');
			layer.alert(msg);
		},
		function(msg){
			layer.closeAll('loading');
			layer.alert(msg,{icon:5});
		});
	}
</script>
</#assign>
<@dashboard pageTitle="开发者工具" currentMenu="settings" pageMeta=pageMeta pageCss=pageCss pageJavascript=pageJavascript>
<@tool map="系统管理-开发者工具">
</@tool>
<div id='content'style="width:100%;height:100%">
	<button class="btn btn-info" onclick="weixinApi('getMenu')">获取菜单</button>
	<button class="btn btn-success" onclick="weixinApi('createMenu')">创建菜单</button>
	<button class="btn btn-danger" onclick="reboot()">&nbsp;重启&nbsp;</button>
	<button class="btn btn-danger" onclick="sendMess()">&nbsp;发个语音信息&nbsp;</button>
	<button class="btn btn-danger" onclick="payToShop()">&nbsp;企业付款测试&nbsp;</button>
	<button class="btn btn-danger" onclick="templeTest()">&nbsp;模板消息测试&nbsp;</button>
	<button class="btn btn-danger" onclick="goeasyTest()">&nbsp;发送消息至后台测试&nbsp;</button>
	<div><img src="/delivery/getAppAddr"/></div>
	<div>配送员定位助手二维码</div>
	<div><a href="${base}/api/v1/delivery/download"/>点这里下载</a></div>
</div>
<div class="modal fade" id="rebootModel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title" id="myModalLabel">警告！警告！</h4>
            </div>
            <div class="modal-body">想清楚！真的要重启吗！！！！</div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="rebootConfirm()" data-dismiss="modal">确定</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
</@dashboard>