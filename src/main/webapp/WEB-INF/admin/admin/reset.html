<!DOCTYPE html>
<html class='no-js' lang='en'>
  <head>
    <#include "../base/part/_meta.html"/>
    <title>密码重置</title>
    <#include "../base/part/_css.html"/>
    <link href="${base}/resources/stylesheets/custom.css" rel="stylesheet" type="text/css" />
  </head>
  <body class='login'>
  	<div class="background">
  	</div>
    <div class='wrapper'>
      <div class='row'>
        <div class='col-lg-12'>
          <div class='brand text-center'>
            <h1>
              <div class='logo-icon'>
                <i class='fa fa-user' style="color:#1abc9c"></i>
              </div>
              Competetion
            </h1>
          </div>
        </div>
      </div>
      <div class='row'>
        <div class='col-lg-12' id="loginDiv">
          <form action="saveReset" method="post" id="resetForm">
            <fieldset class='text-center'>
              <legend>重置您的密码</legend>
              <div class='form-group'>
              	<input type="hidden" name="id" value="${id}"/>
                <input class='form-control' name="newPassword" placeholder='请输入您的新密码' type='password' id="newPassword">
              </div>
              <div class='form-group'>
                <input class='form-control' name="password" placeholder='重复密码' type='password' id="password">
              </div>
              <div class='form-group text-center'>
                <button type="button" id="resetBtn" class="btn btn-default">提交</button>
                <br>
              </div>
            </fieldset>
          </form>
        </div>
      </div>
    </div>
    <!-- Footer -->
    <#include "../base/part/_js.html"/>
 	<script>
	 	(function($) {
	 		$("#newpassword").focus();
	 		Kit.form({btnId:"#resetBtn",formId:"#resetForm",
	 			validate:{
	 				newPassword: {
	                    message: '密码不能为空',
	                    validators: {
	                        notEmpty: {
	                            message: '密码不能为空'
	                        }
	                    }
	                },
	               password: {
	                   message:'密码不能为空',
	                   validators: {
	                       notEmpty: {
	                           message: '密码不能为空'
	                       },
	                       identical:{
	                    	   field:'newPassword',
	                    	   message: '两次输入不一致'
	                       }
	                   }
	               }
            	},
	            successFunc:function(msg){
	            	layer.confirm('修改成功！是否返回登录？', {
            		  btn: ['是','否'] //按钮
            		}, function(){
            			location.href = "logout";
            		}, function(){
            		  
            		});
			 	},
			 	failFunc:function(msg){
			 		layer.msg(msg);
			 	}
	 		});
		})(jQuery);
 	</script>
  </body>
</html>
